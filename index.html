<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bowman Prospect Analysis | Career WAR Visualizations</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@0,600;0,800;1,600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        'bowman-gold': '#d4af37',
                        'bowman-dark': '#050b14',
                        'bowman-card': '#1a2233',
                    },
                    backgroundImage: {
                        'gold-gradient': 'linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c)',
                    },
                    boxShadow: {
                        'glow': '0 0 20px rgba(212, 175, 55, 0.15)',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050b14;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(212, 175, 55, 0.03) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(59, 130, 246, 0.05) 0%, transparent 25%);
            overflow-x: hidden;
        }
        select option { background: #0f172a; color: #e2e8f0; padding: 12px; }
        .glass-panel {
            background: rgba(15, 23, 42, 0.75);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6);
        }
        .progress-ring__circle {
            transition: stroke-dashoffset 1s cubic-bezier(0.4, 0, 0.2, 1);
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
    </style>
</head>
<body class="min-h-screen text-slate-300 flex flex-col items-center justify-center p-4 lg:p-6">

    <div class="fixed top-0 left-0 w-full h-[2px] bg-gradient-to-r from-transparent via-bowman-gold to-transparent opacity-60 z-50"></div>

    <main class="w-full max-w-[1400px] relative z-10 flex flex-col gap-6">
        
        <header class="text-center py-8">
            <h1 class="text-4xl md:text-6xl font-serif font-bold text-white tracking-tight mb-3 opacity-0" id="title-anim">
                Bowman <span class="bg-gold-gradient text-transparent bg-clip-text">Analytics</span>
            </h1>
            <p class="text-sm md:text-base font-light text-slate-400 opacity-0" id="subtitle-anim">
                Visualize Career WAR vs. Games Played Per Season
            </p>
        </header>

        <div class="glass-panel rounded-2xl p-6 md:p-8 grid grid-cols-1 lg:grid-cols-12 gap-8 items-center opacity-0 translate-y-4" id="controls-anim">
            
            <div class="lg:col-span-5 flex flex-col gap-2">
                <label class="text-[10px] font-bold text-bowman-gold uppercase tracking-[0.2em] ml-1">Select Checklist</label>
                <div class="relative group">
                    <select id="releaseSelect" class="w-full bg-black/40 border border-white/10 text-white text-lg rounded-lg px-5 py-4 appearance-none focus:outline-none focus:border-bowman-gold/50 transition-all cursor-pointer font-serif shadow-lg hover:shadow-glow hover:border-white/20">
                        
                        <optgroup label="2025 Season">
                            <option value="2025_bowman_chrome.html" data-index="48" selected>2025 Bowman Chrome</option>
                            <option value="2025_bowman.html" data-index="47">2025 Bowman</option>
                        </optgroup>

                        <optgroup label="2024 Season">
                            <option value="2024_bowman_draft.html" data-index="46">2024 Bowman Draft</option>
                            <option value="2024_bowman_chrome.html" data-index="45">2024 Bowman Chrome</option>
                            <option value="2024_bowman.html" data-index="44">2024 Bowman</option>
                        </optgroup>

                        <optgroup label="2023 Season">
                            <option value="2023_bowman_draft.html" data-index="43">2023 Bowman Draft</option>
                            <option value="2023_bowman_chrome.html" data-index="42">2023 Bowman Chrome</option>
                            <option value="2023_bowman.html" data-index="41">2023 Bowman</option>
                        </optgroup>
                        
                        <optgroup label="2022 Season">
                            <option value="2022_bowman_draft.html" data-index="40">2022 Bowman Draft</option>
                            <option value="2022_bowman_chrome.html" data-index="39">2022 Bowman Chrome</option>
                            <option value="2022_bowman.html" data-index="38">2022 Bowman</option>
                        </optgroup>

                        <optgroup label="2021 Season">
                            <option value="2021_bowman_draft.html" data-index="37">2021 Bowman Draft</option>
                            <option value="2021_bowman_chrome.html" data-index="36">2021 Bowman Chrome</option>
                            <option value="2021_bowman.html" data-index="35">2021 Bowman</option>
                        </optgroup>

                        <optgroup label="2020 Season">
                            <option value="2020_bowman_draft.html" data-index="34">2020 Bowman Draft</option>
                            <option value="2020_bowman_chrome.html" data-index="33">2020 Bowman Chrome</option>
                            <option value="2020_bowman.html" data-index="32">2020 Bowman</option>
                        </optgroup>

                        <optgroup label="2019 Season">
                            <option value="2019_bowman_draft.html" data-index="31">2019 Bowman Draft</option>
                            <option value="2019_bowman_chrome.html" data-index="30">2019 Bowman Chrome</option>
                            <option value="2019_bowman.html" data-index="29">2019 Bowman</option>
                        </optgroup>

                        <optgroup label="2018 Season">
                            <option value="2018_bowman_draft.html" data-index="28">2018 Bowman Draft</option>
                            <option value="2018_bowman_chrome.html" data-index="27">2018 Bowman Chrome</option>
                            <option value="2018_bowman.html" data-index="26">2018 Bowman</option>
                        </optgroup>

                        <optgroup label="2017 Season">
                            <option value="2017_bowman_draft.html" data-index="25">2017 Bowman Draft</option>
                            <option value="2017_bowman_chrome.html" data-index="24">2017 Bowman Chrome</option>
                            <option value="2017_bowman.html" data-index="23">2017 Bowman</option>
                        </optgroup>

                        <optgroup label="2016 Season">
                            <option value="2016_bowman_draft.html" data-index="22">2016 Bowman Draft</option>
                            <option value="2016_bowman_chrome.html" data-index="21">2016 Bowman Chrome</option>
                            <option value="2016_bowman.html" data-index="20">2016 Bowman</option>
                        </optgroup>

                        <optgroup label="2015 Season">
                            <option value="2015_bowman_draft.html" data-index="19">2015 Bowman Draft</option>
                            <option value="2015_bowman_chrome.html" data-index="18">2015 Bowman Chrome</option>
                            <option value="2015_bowman.html" data-index="17">2015 Bowman</option>
                        </optgroup>

                        <optgroup label="2014 Season">
                            <option value="2014_bowman_draft.html" data-index="16">2014 Bowman Draft</option>
                            <option value="2014_bowman_chrome.html" data-index="15">2014 Bowman Chrome</option>
                            <option value="2014_bowman.html" data-index="14">2014 Bowman</option>
                        </optgroup>

                        <optgroup label="2013 Season">
                            <option value="2013_bowman_draft_picks_prospects.html" data-index="13">2013 Bowman Draft</option>
                            <option value="2013_bowman_chrome.html" data-index="12">2013 Bowman Chrome</option>
                            <option value="2013_bowman.html" data-index="11">2013 Bowman</option>
                        </optgroup>

                        <optgroup label="2012 Season">
                            <option value="2012_bowman_draft_picks_prospects.html" data-index="10">2012 Bowman Draft</option>
                            <option value="2012_bowman_chrome.html" data-index="9">2012 Bowman Chrome</option>
                            <option value="2012_bowman.html" data-index="8">2012 Bowman</option>
                        </optgroup>

                        <optgroup label="2011 Season">
                            <option value="2011_bowman_draft_picks_prospects.html" data-index="7">2011 Bowman Draft</option>
                            <option value="2011_bowman_chrome.html" data-index="6">2011 Bowman Chrome</option>
                            <option value="2011_bowman.html" data-index="5">2011 Bowman</option>
                        </optgroup>

                        <optgroup label="2010 Season">
                            <option value="2010_bowman_draft_picks_prospects.html" data-index="4">2010 Bowman Draft</option>
                            <option value="2010_bowman_chrome.html" data-index="3">2010 Bowman Chrome</option>
                            <option value="2010_bowman.html" data-index="2">2010 Bowman</option>
                        </optgroup>

                        <optgroup label="2009 Season">
                            <option value="2009_bowman.html" data-index="1">2009 Bowman</option>
                        </optgroup>
                    </select>
                    <div class="absolute right-5 top-1/2 -translate-y-1/2 pointer-events-none text-bowman-gold">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-4 bg-white/5 rounded-lg border border-white/5 p-4 flex flex-col justify-between h-full relative overflow-hidden group">
                <div class="absolute top-0 right-0 w-20 h-20 bg-bowman-gold/10 rounded-bl-full -mr-10 -mt-10 transition-transform group-hover:scale-150 duration-700"></div>
                
                <div class="flex justify-between items-start border-b border-white/5 pb-2 mb-2 relative z-10">
                    <span class="text-[10px] font-mono text-slate-500 uppercase tracking-wider">Release Date</span>
                    <span id="release-date-display" class="text-sm font-bold text-white font-mono tracking-tight">Loading...</span>
                </div>
                
                <div class="flex justify-between items-end relative z-10">
                    <div class="flex flex-col">
                        <span class="text-[10px] font-mono text-slate-500 uppercase tracking-wider mb-1">Success Rate</span>
                        <div class="w-full h-1 bg-white/10 rounded-full overflow-hidden w-24">
                            <div id="rate-bar" class="h-full bg-bowman-gold w-0 transition-all duration-1000"></div>
                        </div>
                    </div>
                    <div class="text-right">
                        <span class="text-[10px] font-mono text-slate-500 uppercase block mb-1">Debuted / Total</span>
                        <span id="debut-stat-display" class="text-xl font-bold text-bowman-gold font-mono leading-none">-- <span class="text-slate-600 text-sm">/ --</span></span>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-3 flex justify-end items-center gap-5">
                <div class="text-right">
                    <p class="text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-1">Archive Index</p>
                    <p class="text-3xl text-white font-serif italic flex justify-end gap-1 items-baseline">
                        <span id="counter-current">48</span>
                        <span class="text-slate-600 text-sm font-sans not-italic">/ 48</span>
                    </p>
                </div>
                
                <div class="relative h-16 w-16 flex items-center justify-center shrink-0">
                    <svg class="h-full w-full" width="60" height="60" viewBox="0 0 60 60">
                        <circle class="text-white/5" stroke-width="4" stroke="currentColor" fill="transparent" r="26" cx="30" cy="30" />
                        <circle 
                            id="progress-circle"
                            class="text-bowman-gold progress-ring__circle drop-shadow-[0_0_10px_rgba(212,175,55,0.4)]" 
                            stroke-width="4" 
                            stroke-dasharray="163.36" 
                            stroke-dashoffset="0" 
                            stroke-linecap="round" 
                            stroke="currentColor" 
                            fill="transparent" 
                            r="26" 
                            cx="30" 
                            cy="30" 
                        />
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center text-bowman-gold/80">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4" /></svg>
                    </div>
                </div>
            </div>
        </div>

        <div class="glass-panel rounded-2xl p-2 relative h-[750px] w-full opacity-0 translate-y-8" id="iframe-anim">
            <div class="absolute inset-0 flex flex-col gap-2 items-center justify-center z-0" id="loader">
                <div class="w-10 h-10 border-2 border-bowman-gold border-t-transparent rounded-full animate-spin"></div>
                <span class="text-xs font-mono text-bowman-gold animate-pulse">LOADING CHECKLIST DATA...</span>
            </div>
            <iframe id="visualizationFrame" src="2025_bowman_chrome.html" class="relative z-10 w-full h-full border-none rounded-xl opacity-0 transition-opacity duration-700 bg-white" onload="this.style.opacity='1'; document.getElementById('loader').style.display='none'"></iframe>
        </div>

    </main>

    <script>
        // --- REAL DATASET CONFIGURATION ---
        const datasetConfig = {
            "2009_bowman.html": { "date": "May 11, 2009", "debuted": 11, "total": 17 },
            "2010_bowman.html": { "date": "May 10, 2010", "debuted": 21, "total": 22 },
            "2010_bowman_chrome.html": { "date": "Sep 17, 2010", "debuted": 41, "total": 49 },
            "2010_bowman_draft_picks_prospects.html": { "date": "Dec 15, 2010", "debuted": 21, "total": 32 },
            "2011_bowman.html": { "date": "May 9, 2011", "debuted": 23, "total": 33 },
            "2011_bowman_chrome.html": { "date": "Sep 22, 2011", "debuted": 22, "total": 38 },
            "2011_bowman_draft_picks_prospects.html": { "date": "Dec 14, 2011", "debuted": 28, "total": 34 },
            "2012_bowman.html": { "date": "May 9, 2012", "debuted": 28, "total": 38 },
            "2012_bowman_chrome.html": { "date": "Oct 17, 2012", "debuted": 28, "total": 40 },
            "2012_bowman_draft_picks_prospects.html": { "date": "Dec 12, 2012", "debuted": 28, "total": 39 },
            "2013_bowman.html": { "date": "May 8, 2013", "debuted": 36, "total": 46 },
            "2013_bowman_chrome.html": { "date": "Sep 13, 2013", "debuted": 38, "total": 53 },
            "2013_bowman_draft_picks_prospects.html": { "date": "Nov 13, 2013", "debuted": 33, "total": 48 },
            "2014_bowman.html": { "date": "Apr 30, 2014", "debuted": 37, "total": 53 },
            "2014_bowman_chrome.html": { "date": "Sep 26, 2014", "debuted": 47, "total": 70 },
            "2014_bowman_draft.html": { "date": "Dec 3, 2014", "debuted": 40, "total": 69 },
            "2015_bowman.html": { "date": "Jun 17, 2015", "debuted": 36, "total": 47 },
            "2015_bowman_chrome.html": { "date": "Sep 4, 2015", "debuted": 46, "total": 72 },
            "2015_bowman_draft.html": { "date": "Dec 9, 2015", "debuted": 38, "total": 60 },
            "2016_bowman.html": { "date": "Apr 27, 2016", "debuted": 26, "total": 33 },
            "2016_bowman_chrome.html": { "date": "Sep 7, 2016", "debuted": 41, "total": 56 },
            "2016_bowman_draft.html": { "date": "Dec 9, 2016", "debuted": 44, "total": 56 },
            "2017_bowman.html": { "date": "Apr 26, 2017", "debuted": 24, "total": 43 },
            "2017_bowman_chrome.html": { "date": "Sep 29, 2017", "debuted": 39, "total": 60 },
            "2017_bowman_draft.html": { "date": "Dec 6, 2017", "debuted": 48, "total": 76 },
            "2018_bowman.html": { "date": "Apr 25, 2018", "debuted": 35, "total": 40 },
            "2018_bowman_chrome.html": { "date": "Sep 26, 2018", "debuted": 48, "total": 79 },
            "2018_bowman_draft.html": { "date": "Dec 14, 2018", "debuted": 41, "total": 62 },
            "2019_bowman.html": { "date": "Apr 17, 2019", "debuted": 34, "total": 55 },
            "2019_bowman_chrome.html": { "date": "Sep 18, 2019", "debuted": 45, "total": 66 },
            "2019_bowman_draft.html": { "date": "Dec 4, 2019", "debuted": 49, "total": 81 },
            "2020_bowman.html": { "date": "May 22, 2020", "debuted": 30, "total": 59 },
            "2020_bowman_chrome.html": { "date": "Sep 18, 2020", "debuted": 36, "total": 75 },
            "2020_bowman_draft.html": { "date": "Dec 9, 2020", "debuted": 55, "total": 119 },
            "2021_bowman.html": { "date": "Apr 16, 2021", "debuted": 18, "total": 60 },
            "2021_bowman_chrome.html": { "date": "Sep 22, 2021", "debuted": 17, "total": 86 },
            "2021_bowman_draft.html": { "date": "Dec 31, 2021", "debuted": 38, "total": 87 },
            "2022_bowman.html": { "date": "May 4, 2022", "debuted": 30, "total": 85 },
            "2022_bowman_chrome.html": { "date": "Nov 30, 2022", "debuted": 21, "total": 112 },
            "2022_bowman_draft.html": { "date": "Dec 21, 2022", "debuted": 31, "total": 102 },
            "2023_bowman.html": { "date": "Apr 26, 2023", "debuted": 19, "total": 100 },
            "2023_bowman_chrome.html": { "date": "Sep 13, 2023", "debuted": 16, "total": 132 },
            "2023_bowman_draft.html": { "date": "Dec 12, 2023", "debuted": 12, "total": 101 },
            "2024_bowman.html": { "date": "May 8, 2024", "debuted": 6, "total": 82 },
            "2024_bowman_chrome.html": { "date": "Sep 11, 2024", "debuted": 13, "total": 141 },
            "2024_bowman_draft.html": { "date": "Dec 4, 2024", "debuted": 8, "total": 101 },
            "2025_bowman.html": { "date": "May 7, 2025", "debuted": 8, "total": 96 },
            "2025_bowman_chrome.html": { "date": "Sep 23, 2025", "debuted": 4, "total": 105 }
        };

        // --- ANIMATION LOGIC ---
        const totalReleases = 48; 
        const circle = document.getElementById('progress-circle');
        const radius = circle.r.baseVal.value;
        const circumference = radius * 2 * Math.PI;

        circle.style.strokeDasharray = `${circumference} ${circumference}`;
        circle.style.strokeDashoffset = circumference;

        function setProgress(percent) {
            const offset = circumference - (percent / 100) * circumference;
            circle.style.strokeDashoffset = offset;
        }

        function updateUI(selectElement) {
            const selectedOption = selectElement.options[selectElement.selectedIndex];
            
            if (selectedOption.disabled) return;

            const filename = selectedOption.value;
            
            // 1. Get Data from Config
            const config = datasetConfig[filename] || { date: "Data Unavailable", debuted: 0, total: 0 };
            
            // 2. Update Date
            document.getElementById('release-date-display').innerText = config.date;
            
            // 3. Update Debuted / Total
            const targetDebut = config.debuted;
            const targetTotal = config.total;
            
            document.getElementById('debut-stat-display').innerHTML = 
                `${targetDebut} <span class="text-slate-500 text-xs">/ ${targetTotal}</span>`;

            // 4. Update Rate Bar (Prevent Divide by Zero)
            let rate = 0;
            if (targetTotal > 0) {
                rate = (targetDebut / targetTotal) * 100;
            }
            document.getElementById('rate-bar').style.width = `${rate}%`;

            // 5. Update Circle & Counter (ROBUST FIX)
            const indexAttribute = selectedOption.getAttribute('data-index');
            const index = parseInt(indexAttribute);
            
            // Safety check for NaN on index
            const safeIndex = isNaN(index) ? 0 : index;
            const percent = (safeIndex / totalReleases) * 100;
            
            setProgress(percent);

            const counterElement = document.getElementById('counter-current');
            
            // Get current value, default to 0 if NaN (Fixing the persistent NaN issue)
            let currentVal = parseInt(counterElement.innerText);
            if (isNaN(currentVal)) currentVal = 0;
            
            // Use a Proxy Object for GSAP 3 stability (Fixing "this.val" scope issue)
            const proxy = { val: currentVal };
            
            gsap.to(proxy, {
                val: safeIndex,
                duration: 0.8,
                ease: "power2.out",
                onUpdate: function() {
                    counterElement.innerText = Math.round(proxy.val);
                }
            });
        }

        // --- EVENTS ---
        const select = document.getElementById('releaseSelect');
        const iframe = document.getElementById('visualizationFrame');
        const loader = document.getElementById('loader');

        select.addEventListener('change', (e) => {
            updateUI(e.target);
            iframe.style.opacity = '0';
            loader.style.display = 'flex';
            setTimeout(() => { iframe.src = e.target.value; }, 300);
        });

        iframe.addEventListener('load', () => {
            iframe.style.opacity = '1';
            loader.style.display = 'none';
        });

        window.addEventListener('load', () => {
            updateUI(select);
            const tl = gsap.timeline();
            tl.to("#title-anim", { opacity: 1, y: 0, duration: 1, ease: "power3.out" })
              .to("#subtitle-anim", { opacity: 1, duration: 0.8 }, "-=0.5")
              .to("#controls-anim", { opacity: 1, y: 0, duration: 0.8, ease: "back.out(1.2)" }, "-=0.3")
              .to("#iframe-anim", { opacity: 1, y: 0, duration: 0.8 }, "-=0.4");
        });
    </script>
</body>
</html>